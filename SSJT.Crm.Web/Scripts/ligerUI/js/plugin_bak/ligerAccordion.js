if(typeof(LigerUIManagers)=="undefined"){LigerUIManagers={}}(function(A){A.fn.ligerGetAccordionManager=function(){return LigerUIManagers[this[0].id+"_Accordion"]};A.fn.ligerRemoveAccordionManager=function(){return this.each(function(){LigerUIManagers[this.id+"_Accordion"]=null})};A.fn.ligerAccordion=function(B){return this.each(function(){B=A.extend({height:null,speed:"normal",changeHeightOnResize:false,heightDiff:0},B||{});if(this.usedAccordion){return}var D={onResize:function(){if(!B.height||typeof(B.height)!="string"||B.height.indexOf("%")==-1){return false}if(D.accordion.parent()[0].tagName.toLowerCase()=="body"){var E=A(window).height();E-=parseInt(D.layout.parent().css("paddingTop"));E-=parseInt(D.layout.parent().css("paddingBottom"));D.height=B.heightDiff+E*parseFloat(D.height)*0.01}else{D.height=B.heightDiff+(D.accordion.parent().height()*parseFloat(B.height)*0.01)}D.accordion.height(D.height);D.setContentHeight(D.height-D.headerHoldHeight)},setHeight:function(E){D.accordion.height(E);E-=D.headerHoldHeight;A("> .l-accordion-content",D.accordion).height(E)}};D.accordion=A(this);if(!D.accordion.hasClass("l-accordion-panel")){D.accordion.addClass("l-accordion-panel")}var C=0;if(A("> div[lselected=true]",D.accordion).length>0){C=A("> div",D.accordion).index(A("> div[lselected=true]",D.accordion))}A("> div",D.accordion).each(function(F,E){var G=A('<div class="l-accordion-header"><div class="l-accordion-toggle"></div><div class="l-accordion-header-inner"></div></div>');if(F==C){A(".l-accordion-toggle",G).addClass("l-accordion-toggle-open")}if(A(E).attr("title")){A(".l-accordion-header-inner",G).html(A(E).attr("title"));A(E).attr("title","")}A(E).before(G);if(!A(E).hasClass("l-accordion-content")){A(E).addClass("l-accordion-content")}});A(".l-accordion-toggle",D.accordion).each(function(){if(!A(this).hasClass("l-accordion-toggle-open")&&!A(this).hasClass("l-accordion-toggle-close")){A(this).addClass("l-accordion-toggle-close")}if(A(this).hasClass("l-accordion-toggle-close")){A(this).parent().next(".l-accordion-content:visible").hide()}});A(".l-accordion-header",D.accordion).hover(function(){A(this).addClass("l-accordion-header-over")},function(){A(this).removeClass("l-accordion-header-over")});A(".l-accordion-toggle",D.accordion).hover(function(){if(A(this).hasClass("l-accordion-toggle-open")){A(this).addClass("l-accordion-toggle-open-over")}else{if(A(this).hasClass("l-accordion-toggle-close")){A(this).addClass("l-accordion-toggle-close-over")}}},function(){if(A(this).hasClass("l-accordion-toggle-open")){A(this).removeClass("l-accordion-toggle-open-over")}else{if(A(this).hasClass("l-accordion-toggle-close")){A(this).removeClass("l-accordion-toggle-close-over")}}}).click(function(){if(A(this).hasClass("l-accordion-toggle-close")){A(this).removeClass("l-accordion-toggle-close").removeClass("l-accordion-toggle-close-over l-accordion-toggle-open-over");A(this).addClass("l-accordion-toggle-open");A(this).parent().next(".l-accordion-content").show(B.speed).siblings(".l-accordion-content:visible").hide(B.speed);A(this).parent().siblings(".l-accordion-header").find(".l-accordion-toggle").removeClass("l-accordion-toggle-open").addClass("l-accordion-toggle-close")}else{A(this).removeClass("l-accordion-toggle-open").removeClass("l-accordion-toggle-close-over l-accordion-toggle-open-over").addClass("l-accordion-toggle-close");A(this).parent().next(".l-accordion-content").hide(B.speed)}});D.headerHoldHeight=0;A("> .l-accordion-header",D.accordion).each(function(){D.headerHoldHeight+=A(this).height()});if(B.height&&typeof(B.height)=="string"&&B.height.indexOf("%")>0){D.onResize();if(B.changeHeightOnResize){A(window).resize(function(){D.onResize()})}}else{if(B.height){D.height=B.heightDiff+B.height;D.accordion.height(D.height);D.setHeight(B.height)}else{D.header=D.accordion.height()}}if(this.id==undefined){this.id="LigerUI_"+new Date().getTime()}LigerUIManagers[this.id+"_Accordion"]=D;this.usedAccordion=true})}})(jQuery);